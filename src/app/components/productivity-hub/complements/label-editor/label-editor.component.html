<!-- <label>{{ myLabel }}</label> -->


<div *ngIf="editLabelOpened" class="">
    <div class="animate__animated animate__fadeIn labelEditorBox">

        <button type="button" (click)="close()" class="close">
            <i class="ri-close-line"></i>
        </button>
        <div class="labelMargin">
            <h5 class="modal-title  mb-2"> <i class="ri-price-tag-3-line"></i> Edit Activity</h5>
            <div class="row">
                <div class="col-6">
                    <ul class="list-group">

                        <div *ngFor="let label of labels">
                            <li (click)="selectLabel(label)" class="list-group-item listGreyColor"
                                [ngClass]="{'listGreyColor_active': label.id=== selectedLabel.id}"> {{label.name |
                                truncate:13}}</li>

                        </div>
                    </ul>
                </div>

                <div class="col-6 d-flex flex-column ">
                    <form #miForm="ngForm">

                        <div class="form-floating mb-1">
                            <input id="name" type="text" type="text" class="form-control" placeholder=""
                                aria-label="name" aria-describedby="addon-wrapping" [(ngModel)]="selectedLabel.name"
                                name="selectedLabel.name">
                            <label class="form-label
                        grey-text" for="floatingInput">Activity Name...</label>
                        </div>
                        <div class="d-flex">
                            <div type="button" (click)="pickColor()">
                                <div class="color-option big"
                                    style="--color-base: var(--{{selectedLabel.color}}-color)"><i
                                        class="ri-palette-line"></i></div>

                            </div>

                            <div type="button" (click)="pickIcon()">
                                <div class="color-option bigIcon" style="--color-base: var(--clearGrey-color)">

                                    <div class="d-flex align-items-center">
                                        <i class="{{selectedLabel.icon}}"></i>
                                        <div style="font-size: 1rem;line-height: 1.2;">
                                            Select Icon
                                        </div>
                                    </div>
                                </div>

                            </div>

                        </div>



                    </form>

                    <div style=" --animate-duration: 0.5s;" class="mt-1 mb-1 animate__animated animate__fadeIn card"
                        *ngIf="pickColorOpened">
                        <div class="card-body d-flex flex-wrap">
                            <h6 class="card-subtitle mb-2 text-muted">Pick Color:</h6>
                            <div class="d-flex flex-wrap">


                                <div type="button" (click)="selectColor(color)" *ngFor="let color of availableColors"
                                    class="color-container">
                                    <div class="color-option " style="--color-base: var(--{{color}}-color)">
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>

                    <div style=" --animate-duration: 0.5s;" class="mt-1 mb-1 animate__animated animate__fadeIn card"
                        *ngIf="pickIconOpened">
                        <div class="card-body d-flex flex-wrap">
                            <h6 class="card-subtitle mb-2 text-muted">Pick Icon:</h6>
                            <div class="d-flex flex-wrap">

                                <div (click)="selectIcon('')" class="color-container">
                                    <div class="color-option " style="--color-base: var(--clearGrey-color)">
                                        <div class="d-flex align-items-center">

                                        </div>
                                    </div>
                                </div>
                                <div (click)="selectIcon(icon)" type="button" *ngFor="let icon of availableIcons"
                                    class="color-container">
                                    <div class="color-option " style="--color-base: var(--clearGrey-color)">
                                        <div class="d-flex align-items-center">
                                            <i class="{{icon}}"></i>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>

                </div>

            </div>
            <div class="d-flex flex-column justify-content-between">
                <div class="mt-auto align-self-end">
                    <button *ngIf="!(selectedLabel.id>0)" (click)="saveLabel()" type="button"
                        class="btn btn-secondary btn-sm"
                        [ngClass]="{'disabled': (selectedLabel.name==='' || selectedLabel.name===null || selectedLabel.name===undefined )}">Add</button>
                    <button *ngIf="(selectedLabel.id>0)" (click)="saveLabel()" type="button"
                        class="btn btn-secondary btn-sm">Save</button>
                </div>
            </div>
        </div>